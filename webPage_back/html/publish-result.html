<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>成果发布</title>
  <link rel="stylesheet" href="../css/layui.css">
  <link rel="stylesheet" href="../css/templates_css.css">
  <link rel="stylesheet" type="text/css" href="../css/iconfont.css">
</head>
<body class="layui-layout-body" id="publish-page">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <!-- 头部区域 -->
    <ul class="layui-nav">
	  <a class="logo" href="/">	<img src="../images/globe/logo_head.png" /></a>
	  <li class="layui-nav-item"><a href="/">首页</a></li>
	  <li class="layui-nav-item layui-this"><a href="publish-result.html">成果</a></li>
	  <li class="layui-nav-item"><a href="publish-demand.html">需求</a></li>
	  <li class="layui-nav-item"><a href="">专家库</a></li>
	  <li class="layui-nav-item">
		<a href="info-list.html">行业资讯</a>
		<dl class="layui-nav-child"> <!-- 二级菜单 -->
		  <dd><a href="article.html">行业规章</a></dd>
		  <dd><a href="article.html">成果转化介绍</a></dd>
		  <dd><a href="article.html">金融服务</a></dd>
		</dl>
	  </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
          Admin
        </a>
        <dl class="layui-nav-child">
          <dd><a href="javascript:layer.msg('功能完善中');">基本资料</a></dd>
          <dd><a href="javascript:layer.msg('功能完善中');">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="/">退了</a></li>
    </ul>
  </div>
  
  <div class="layui-main">
    <!-- 内容主体区域 -->
	<form class="layui-form layui-form-pane" action="">
		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
		  <legend>成果发布</legend>
		</fieldset>
		 
		 <div class="layui-upload layui-main-content">
		  <div class="layui-upload-list layui-cent">
			<i class="iconfont icon-xiangji2" id="test1"><p class="addpic-desc">添加封面</p></i>
			<img class="layui-upload-img" id="demo1">
		  </div>
		</div>  
		 
		<div id="passage-edit" class="layui-cent">
			<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入标题" class="layui-input input-title">
			 <div class="layui-form-item">
			   <div class="layui-inline">
				  <label class="layui-form-label">专利所有人</label>
				  <div class="layui-input-block">
				    <input type="text" name="title" required  lay-verify="required" placeholder="专利所有人姓名" autocomplete="off" class="layui-input">
				  </div>
			    </div>
				<div class="layui-inline">
				  <label class="layui-form-label">联系方式</label>
				  <div class="layui-input-block">
				    <input type="text" name="title" required  lay-verify="required" placeholder="请输入您的联系方式" autocomplete="off" class="layui-input">
				  </div>
			    </div>
				<div class="layui-inline">
				  <label class="layui-form-label">领域</label>
				<div class="layui-input-block">
				  <select name="field" lay-verify="required">
					<option value=""></option>
					<option value="0">土壤</option>
					<option value="1">空气</option>
					<option value="2">水</option>
				  </select>
				</div>
			    </div>
				<div class="layui-inline">
				  <label class="layui-form-label">区域</label>
				<div class="layui-input-block">
				  <select name="field" lay-verify="required">
					<option value=""></option>
					<option value="0">长沙</option>
					<option value="1">北京</option>
					<option value="2">上海</option>
				  </select>
				</div>
			    </div>
				<div class="layui-inline">
					<label class="layui-form-label">专利价格</label>
					<div class="layui-input-inline" style="width: 100px;">
					  <input type="text" name="price_min" placeholder="￥" autocomplete="off" class="layui-input">
					</div>
			  </div>
			  </div>
		
			  
			<textarea class="layui-textarea layui-hide" name="content" lay-verify="content" id="LAY_demo_editor"></textarea>
		    
			<div class="layui-form-item" id="submit-wrap">
				<div class="layui-input-block">
				  <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
				  <button type="reset" class="layui-btn layui-btn-primary">重置</button>
				</div>
			</div>
		</div>
	  
	</form>
  </div>
  
  

</div>

<script src="../layui.js"></script>
<script>
//JavaScript代码区域
layui.use('element', function(){
  var element = layui.element;
  
});
</script>
<script>
layui.use('upload', function(){
  var $ = layui.jquery
  ,upload = layui.upload;
  
  //普通图片上传
  var uploadInst = upload.render({
    elem: '#test1'
    ,url: '/upload/'
    ,before: function(obj){
      //预读本地文件示例，不支持ie8
      obj.preview(function(index, file, result){
        $('#demo1').attr('src', result); //图片链接（base64）
      });
    }
    ,done: function(res){
      //如果上传失败
      if(res.code > 0){
        return layer.msg('上传失败');
      }
      //上传成功
    }
    ,error: function(){
      //演示失败状态，并实现重传
      var demoText = $('#demoText');
      demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>');
      demoText.find('.demo-reload').on('click', function(){
        uploadInst.upload();
      });
    }
  });
  
 
  //绑定原始文件域
  upload.render({
    elem: '#test20'
    ,url: '/upload/'
    ,done: function(res){
      console.log(res)
    }
  });
  
});
</script>

<script>
layui.use(['form', 'layedit', 'laydate'], function(){
  var form = layui.form
  ,layer = layui.layer
  ,layedit = layui.layedit
  ,laydate = layui.laydate;
  
  //日期
  laydate.render({
    elem: '#date'
  });
  laydate.render({
    elem: '#date1'
  });
  
  //创建一个编辑器
  var editIndex = layedit.build('LAY_demo_editor');
 
  //自定义验证规则
  form.verify({
    title: function(value){
      if(value.length < 5){
        return '标题至少得5个字符啊';
      }
    }
    ,pass: [/(.+){6,12}$/, '密码必须6到12位']
    ,content: function(value){
      layedit.sync(editIndex);
    }
  });
  
  //监听指定开关
  form.on('switch(switchTest)', function(data){
    layer.msg('开关checked：'+ (this.checked ? 'true' : 'false'), {
      offset: '6px'
    });
    layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
  });
  
  //监听提交
  form.on('submit(demo1)', function(data){
    layer.alert(JSON.stringify(data.field), {
      title: '最终的提交信息'
    })
    return false;
  });
  
  
});
</script>
</body>
</html>